<!DOCTYPE html>
<html lang="en">

<head>
	{% load static %}
	{% include 'home/script.html' %}

	<title>Dashboard</title>
</head>

<body>

	{% include 'dashboard/navbar.html' %}

	<div class="container-fluid">
		<div class="row">
			{% include 'dashboard/sidenav.html' %}
			<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 text-center">
				<div class="chartjs-size-monitor">
					<div class="chartjs-size-monitor-expand">
						<div class=""></div>
					</div>
					<div class="chartjs-size-monitor-shrink">
						<div class=""></div>
					</div>
				</div>
				<div
					class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
					<h1 class="h2">Hi {{name}} !</h1>
					<div class="btn-toolbar mb-2 mb-md-0">
					</div>
				</div>
				<div class="container text-center">
					<div class="card text-center" style="width: 70%;margin-left: 15%;border-width: 1rem;">
						<div class="card-body">
						  <h5 class="card-title">Your Details</h5>
						  <div style="text-align: center;" class="container">
							<div class="row align-items-start">
								<div style="border-right: 3px solid whitesmoke;text-align: center;" class="col">
									<div class="container">
										<div class="row align-items-start">
											<div class="col">
												<div class="list-group my-3">
													<p href="#" class="list-group-item list-group-item-action list-group-item-secondary" style="pointer-events: none;">First Name : {{name}}</p>
													<p href="#" class="list-group-item list-group-item-action list-group-item-secondary" style="pointer-events: none;">Last Name : {{lname}}</p>
													<p href="#" class="list-group-item list-group-item-action list-group-item-secondary" style="pointer-events: none;">Email : {{email}}</p>
													<p href="#" class="list-group-item list-group-item-action list-group-item-secondary" style="pointer-events: none;">Money : $ {{profile.money}}</p>
												  </div>

											</div>

										</div>
									</div>
									
									<p id="referral" type="text" hidden>{{profile.referral}}</p>
									<p>
										Want to earn some money ? Click here to get referral code and share it with your friends
									</p>
									<button id="referral_button" type="button" class="btn btn-warning" onclick="copy_referral()">Copy Referral</button>
		
		
								</div>
								<div style="text-align: center;" class="col">
									<form action="/dashboard/resetpassword/" method="POST">{% csrf_token %}
										<p class="fs-1 text-center">Change Password</p>
										<label for="inputPassword5" class="form-label">New Password</label>
										<input name="password" style="width: 70%;margin-left: 15%;" type="password" id="inputPassword5"
											class="form-control" aria-describedby="passwordHelpBlock">
										<br>
										<label for="inputPassword5" class="form-label">Confirm New Password</label>
										<input name="confirmpassword" style="width: 70%;margin-left: 15%;" type="password" id="inputPassword5"
											class="form-control" aria-describedby="passwordHelpBlock">
										<br>
										<button type="submit" class="btn btn-danger">Change Password</button>
		
									</form>
								</div>
							</div>
						</div>

						</div>
					  </div>
				</div>
				

			</main>
		</div>
	</div>

</body>
<script src="{% static '/dashboard/js/live_search.js' %}"></script>

<script>

	function copy_referral() {

		let copy_referral = document.getElementById("referral");
		// console.log(copy_referral.innerHTML)

		// copy_referral.select();
		navigator.clipboard.writeText(copy_referral.innerHTML);

		let referral_button = document.getElementById("referral_button");

		referral_button.innerHTML = "Copied";

		setTimeout(()=>{
            referral_button.innerHTML="Copy Referral";
        },2000);

	}


</script>

</html>